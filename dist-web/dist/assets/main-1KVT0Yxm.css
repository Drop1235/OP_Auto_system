*{box-sizing:border-box;margin:0;padding:0;font-family:Segoe UI,Arial,sans-serif}html,body,.main{margin-top:0!important;padding-top:0!important;height:100%;overflow-y:auto!important;overflow:hidden}header{display:flex;justify-content:space-between;align-items:center;margin-bottom:20px;padding-bottom:10px;border-bottom:1px solid #ddd}h1{font-size:24px;color:#333}.app-brand{display:flex;align-items:center;gap:8px}.logo-icon{width:32px;height:32px}.app-name{font-size:22px;font-weight:600;color:#28a745}nav{display:flex;gap:10px}button{padding:8px 16px;background-color:#f0f0f0;border:1px solid #ccc;border-radius:4px;cursor:pointer;font-size:14px}button:hover{background-color:#e0e0e0}button.active{background-color:#4caf50;color:#fff;border-color:#3e8e41}.controls{display:flex;gap:10px}.active-view{display:block}.hidden-view{display:none}.court-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(300px,1fr));gap:20px;margin-top:20px;max-height:none;overflow-y:visible}.main-board-area{max-height:85vh;overflow-y:auto}.board-container{max-height:80vh;overflow-y:auto}@media (max-width: 768px){.board-container{max-height:70vh}.board-container{height:70vh}}.history-court-grid{background-color:#f8f8ff}.court-slot{border:1px solid #ccc;border-radius:4px;overflow:visible}.history-court-slot{border:1px solid #b8c4e0}.court-header{background-color:#333;color:#fff;padding:8px;text-align:center;font-weight:700}.history-court-header{background-color:#d4e2f9;color:#2c3e50}.court-rows{display:flex;flex-direction:column}.court-row{min-height:80px;padding:10px;border-bottom:1px dashed #ccc;display:flex;flex-direction:column;align-items:center;max-height:none;overflow-y:visible}.current-row{background-color:#f0f8ff;min-height:120px}.card-container{width:100%;display:flex;flex-wrap:wrap;gap:10px;justify-content:center;padding:5px}#history-court-grid{display:flex;flex-wrap:wrap;gap:20px;justify-content:flex-start;margin-top:20px}.history-court-column{flex:1 0 300px;max-width:350px;min-width:280px;display:flex;flex-direction:column;gap:10px;margin-bottom:20px;border:1px solid #eaeaea;border-radius:8px;overflow:hidden;box-shadow:0 2px 5px #0000001a}.court-column-header{padding:10px 15px;font-weight:700;color:#fff;text-align:center;font-size:16px;text-shadow:0 1px 2px rgba(0,0,0,.3);border-bottom:1px solid rgba(255,255,255,.2)}.next-row,.next2-row{background-color:#fff}.row-placeholder{color:#999;text-align:center;font-style:italic}.row-highlight{background-color:#e6f7ff;border:2px dashed #1890ff}.match-card{background-color:#fff;border:1px solid #ddd;border-radius:4px;box-shadow:0 2px 4px #0000001a;margin-bottom:8px;padding:8px;cursor:grab;position:relative;width:100%;box-sizing:border-box}.history-card{cursor:default;background-color:#f9f9f9;border:1px solid #eee}.match-card:active{cursor:grabbing}.match-card-header{display:flex;justify-content:space-between;margin-bottom:8px;font-size:12px}.match-card-game-format-display{background-color:#f0f0f0;border-radius:4px;padding:2px 6px;font-size:.9em;font-weight:700;color:#333;cursor:default;margin-right:5px;white-space:nowrap;overflow:visible;text-overflow:clip;max-width:100px}.match-card-memo{width:100%;border:none;background:transparent;font-size:.9em;margin-bottom:5px;padding:2px 0;border-bottom:1px dashed #ccc}.match-card-endtime{font-size:12px;color:#666;text-align:right}.match-card-players-container{display:flex;flex-direction:column;gap:8px}.match-card-player{display:flex;align-items:center;margin-bottom:4px;position:relative;justify-content:space-between}.player-name-input{flex:1 1 auto;min-width:120px;height:38px;line-height:38px;border:none;background:transparent;font-size:.9em;padding:2px 0;border-bottom:1px dashed #ccc;margin-right:8px;white-space:nowrap;overflow:visible;text-overflow:clip}.match-end-time-input{border:none;background:transparent;font-size:.85em;padding:2px 0;border-bottom:1px dashed #ccc;margin-left:5px;width:80px}.player-label{font-weight:700;flex-grow:1}.score-input{width:80px;min-width:70px;text-align:center;margin:0 6px;font-size:1.25em;font-weight:700;padding:6px 4px;overflow:visible;border:2.5px solid #888;border-radius:6px;background:#fff}.set-scores-container{display:flex;gap:8px;margin-right:8px;flex-shrink:0;align-items:center;height:100%}.set-score-input{width:60px;min-width:55px;text-align:center;border:2px solid #bbb;border-radius:6px;padding:5px 0;font-size:1.1em;font-weight:700;box-sizing:border-box;margin:0 2px;background:#fff}.total-score{font-weight:700;width:40px;min-width:40px;text-align:center;background-color:#f0f0f0;border-radius:6px;padding:6px 2px;margin-right:8px;font-size:1.1em}.win-label{margin-left:8px;font-weight:700;width:30px;text-align:center}.win-button{cursor:pointer;border:1px solid #ddd;border-radius:50%;width:18px;height:18px;display:flex;align-items:center;justify-content:center;background-color:#f8f8f8;font-size:10px;margin-left:4px;color:#666}.win-button:hover{background-color:#e0e0e0}.win-check{width:18px;height:18px;display:flex;align-items:center;justify-content:center;font-size:14px;margin-left:4px}.match-card-time{font-size:12px;color:#666;text-align:center;margin-top:5px}.tie-break-scores{display:flex;align-items:center;justify-content:center;gap:5px;margin-top:5px;padding:5px 0;border-top:1px dashed #eee}.tie-break-input{width:40px;text-align:center;border:1px solid #ccc;border-radius:3px;padding:2px;font-size:.9em}.tie-break-separator{font-size:.9em;color:#555}.filter-controls{display:flex;gap:20px;margin-bottom:20px}.filter-group{display:flex;align-items:center;gap:8px}table{width:100%;border-collapse:collapse}th,td{padding:10px;text-align:left;border-bottom:1px solid #ddd}th{background-color:#f2f2f2;cursor:pointer}th:hover{background-color:#e6e6e6}.modal-content{background-color:#fff;margin:10% auto;padding:20px;border-radius:5px;width:50%;max-width:500px}.close-modal{float:right;font-size:24px;font-weight:700;cursor:pointer}.form-group label{display:block;margin-bottom:5px}.form-group input,.form-group select{width:100%;padding:8px;border:1px solid #ddd;border-radius:4px}.export-btn{background-color:#4caf50;color:#fff;border:none;padding:8px 16px;border-radius:4px;cursor:pointer;font-weight:700;transition:background-color .3s}.export-btn:hover{background-color:#388e3c}.export-group{margin-left:auto}.unassigned-section{margin-top:20px;border:1px solid #ddd;border-radius:4px;background-color:#f9f9f9;padding:10px}.unassigned-header{font-weight:700;margin-bottom:10px;padding-bottom:5px;border-bottom:1px solid #eee}.unassigned-cards{display:flex;flex-wrap:wrap;gap:10px;min-height:100px;padding:10px;transition:background-color .2s ease}.unassigned-cards.drag-over{background-color:#e0f7fa;border:2px dashed #4fc3f7;border-radius:4px}.row-highlight{background-color:#e0f7fa;border:2px dashed #4fc3f7}.match-card-game-format{font-size:.8em;padding:2px 4px;margin-right:8px;border:1px solid #ccc;border-radius:3px;background-color:#f9f9f9;max-width:120px}.tiebreak-score-input{width:35px;height:auto;padding:4px;font-size:.9em;text-align:center;margin:0 5px;border:1px solid #ccc;border-radius:3px;box-sizing:border-box;pointer-events:auto!important;cursor:text!important;user-select:text;-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text}.tiebreak-score-input:focus{outline:2px solid #007bff;border-color:#007bff}.tiebreak-score-input:hover{border-color:#999}.match-card-header{display:flex;align-items:center;justify-content:space-between;margin-bottom:5px}.match-card-players{display:flex;justify-content:space-between;align-items:center}.match-card-player{display:flex;align-items:center}.score-input{width:45px;text-align:center;margin:0 2px}.match-card .score-input,.match-card .set-score-input{border:1px solid #ddd;border-radius:3px;text-align:center;font-size:12px;padding:3px 5px;background:#fff;color:#333;width:45px;min-width:35px}.delete-button{display:block;font-size:1.2em;font-weight:700;color:#c00;cursor:pointer;padding:0 5px;margin-left:auto;order:2}.delete-button:hover{color:red}.match-card-header{display:flex;align-items:center}.match-card-game-format{margin-right:10px;order:0}.match-end-time-input{order:1;margin-left:10px}.court-settings-header{display:flex;justify-content:space-between;align-items:center;padding:10px;background-color:#f0f0f0;border-bottom:1px solid #ccc;margin-bottom:10px}.modal-content .form-group .radio-group{display:flex;flex-direction:column;gap:8px}.modal-content .form-group .radio-option{display:flex;align-items:center;gap:8px}.modal-content .form-group .radio-option input[type=radio]{margin:0}.modal-content .form-group .radio-option label{margin:0;font-weight:400}.court-settings-title{font-size:1.2em;font-weight:700}.modal-content .form-group .radio-group{display:flex;flex-direction:row!important;flex-wrap:wrap!important;gap:8px}.modal-content .form-group .radio-option{display:flex;align-items:center;justify-content:flex-start!important;gap:2px!important;flex-basis:calc(50% - 4px)!important;box-sizing:border-box!important}.court-format-controls,.court-count-controls{display:flex;align-items:center;gap:8px}.court-format-controls label,.court-count-controls span{margin-right:5px}.court-format-controls select,.court-count-controls button{padding:5px 8px;border:1px solid #ccc;border-radius:4px}.court-count-controls button{min-width:30px}.add-match-btn-prominent{padding:10px 20px;font-size:1.1em;font-weight:700;background-color:#28a745;color:#fff;border:none;border-radius:5px;cursor:pointer;transition:background-color .3s ease;margin-right:auto;line-height:1.5}.add-match-btn-prominent:hover{background-color:#218838}#unassigned-cards .card,.match-card{min-height:auto!important;padding:6px 8px!important;margin-bottom:8px!important;width:280px;margin-bottom:0}.delete-btn{background-color:#f44336;color:#fff;border:none;border-radius:50%;width:24px;height:24px;font-size:12px;line-height:1;cursor:pointer;transition:background-color .3s;display:flex;align-items:center;justify-content:center}.delete-btn:hover{background-color:#d32f2f}.actions-cell{text-align:center;width:50px}.court-settings{margin-bottom:20px;padding:15px;background-color:#f9f9f9;border-radius:4px;border:1px solid #ddd}.court-settings-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:15px}.court-settings-title{font-size:18px;font-weight:700}.court-count-controls{display:flex;align-items:center;gap:10px}.court-count-display{font-weight:700;min-width:30px;text-align:center}.court-name-edit{cursor:pointer;padding:2px 5px;border-radius:3px}.court-name-edit:hover{background-color:#e6e6e6}.court-name-input{background:transparent;border:none;border-bottom:1px dashed #999;text-align:center;font-weight:700;width:100%;padding:2px}.court-name-input:focus{outline:none;border-bottom:1px solid #333}.unassigned-section{margin-top:30px;border:1px solid #ddd;border-radius:4px;overflow:hidden;width:100%}.unassigned-header{background-color:#f0ad4e;color:#fff;padding:8px;text-align:center;font-weight:700}.unassigned-cards{display:flex;flex-wrap:wrap;gap:10px;padding:15px;min-height:100px;background-color:#fffbf0}#history-court-grid{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:20px;padding:10px;background-color:#f4f7f6}.history-court-column{display:flex;flex-direction:column;gap:10px;background-color:#fff;border:1px solid #e0e0e0;border-radius:4px;padding:10px;box-shadow:0 1px 3px #0000000d}.history-court-column h4{font-size:1.1em;font-weight:700;color:#333;margin-bottom:10px;padding-bottom:5px;border-bottom:1px solid #eee;text-align:center}.history-card .match-card-court-info{font-weight:700;color:#555}.web-footer{margin-top:40px;padding:20px;text-align:center;border-top:1px solid #ddd;color:#666}.web-footer p{margin:5px 0}.delete-all-btn{padding:6px 12px;font-size:.9em;font-weight:400;background-color:#dc3545;color:#fff;border:none;border-radius:4px;cursor:pointer;transition:background-color .3s ease;margin-left:10px;line-height:1.2;opacity:.8}.delete-all-btn:hover{background-color:#c82333;opacity:1}.delete-all-btn:active{background-color:#bd2130}.modal{display:none;position:fixed;z-index:1000;left:0;top:0;width:100%;height:100%;background-color:#00000080}.modal-content{background-color:#fff;margin:5% auto;padding:20px;border-radius:8px;width:90%;max-width:500px;box-shadow:0 4px 8px #0003;position:relative}.close-modal{color:#aaa;float:right;font-size:28px;font-weight:700;cursor:pointer;position:absolute;right:15px;top:10px}.close-modal:hover,.close-modal:focus{color:#000;text-decoration:none}.form-group{margin-bottom:15px}.form-group label{display:block;margin-bottom:5px;font-weight:700}.form-group input,.form-group select{width:100%;padding:8px 12px;border:1px solid #ddd;border-radius:4px;font-size:14px;box-sizing:border-box}.form-group input:focus,.form-group select:focus{outline:none;border-color:#4caf50;box-shadow:0 0 5px #4caf504d}#add-match-form button{background-color:#4caf50;color:#fff;padding:10px 20px;border:none;border-radius:4px;cursor:pointer;font-size:16px;margin-right:10px}#add-match-form button:hover{background-color:#45a049}#add-match-form button[type=button]{background-color:#f44336}#add-match-form button[type=button]:hover{background-color:#da190b}.history-match-card{background:#fff;border:1px solid #ddd;border-radius:8px;padding:12px;margin-bottom:10px;box-shadow:0 2px 4px #0000001a}.history-match-card .match-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:12px;color:#666}.history-match-card .match-card-players-container{display:flex;flex-direction:column;gap:8px}.history-match-card .match-card-player{display:flex;align-items:center;justify-content:space-between;width:100%}.history-match-card .player-name-input{border:none;background:transparent;font-size:14px;font-weight:500;text-align:left;flex-grow:1;padding:0;margin:0;outline:none;color:#333}.history-match-card .score-win-container{display:flex;align-items:center;gap:5px;margin-left:auto}.history-match-card .set-scores-container{display:flex;gap:2px}.history-match-card .score-input,.history-match-card .set-score-input{border:1px solid #ddd;border-radius:3px;text-align:center;font-size:12px;padding:2px 4px;background:#f9f9f9;color:#333;min-width:35px;width:40px}.history-match-card .win-label{background:#28a745;color:#fff;font-size:10px;padding:2px 6px;border-radius:3px;font-weight:700}.history-match-card .delete-button{background:#dc3545;color:#fff;border:none;border-radius:50%;width:20px;height:20px;font-size:12px;cursor:pointer;display:flex;align-items:center;justify-content:center;line-height:1}.history-match-card .delete-button:hover{background:#c82333}.match-card{background:#fff;border:1px solid #ddd;border-radius:8px;padding:10px;margin:5px;box-shadow:0 2px 4px #0000001a;cursor:move}.match-card .match-card-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px;font-size:12px;color:#666}.match-card .match-card-players-container{display:flex;flex-direction:column;gap:6px}.match-card .match-card-player{display:flex;align-items:center;justify-content:space-between;width:100%;gap:8px}.match-card .player-name-input{border:1px solid #ddd;border-radius:4px;padding:4px 6px;font-size:13px;height:38px;line-height:38px;flex-grow:1;text-align:left;background:#fff;color:#333}.match-card .player-name-input:focus{outline:none;border-color:#4caf50;box-shadow:0 0 3px #4caf504d}.match-card .score-section{display:flex;align-items:center;gap:5px;margin-left:auto}.match-card .score-input,.match-card .set-score-input{border:1px solid #ddd;border-radius:3px;text-align:center;font-size:12px;padding:3px 5px;background:#fff;color:#333;width:40px}.match-card .score-input:focus,.match-card .set-score-input:focus{outline:none;border-color:#4caf50;box-shadow:0 0 3px #4caf504d}.match-card .win-indicator{background:#28a745;color:#fff;font-size:12px;padding:2px 6px;border-radius:3px;font-weight:700;min-width:20px;text-align:center}.match-card .delete-button{background:#dc3545;color:#fff;border:none;border-radius:50%;width:18px;height:18px;font-size:11px;cursor:pointer;display:flex;align-items:center;justify-content:center;line-height:1}.match-card .delete-button:hover{background:#c82333}.export-controls{display:flex;align-items:center;gap:4px}.export-btn{background-color:#17a2b8;color:#fff;border:none;padding:6px 12px;border-radius:4px;cursor:pointer;font-size:14px;transition:background-color .2s}.export-btn:hover{background-color:#138496}#board-export-type{padding:4px 8px;border:1px solid #ddd;border-radius:4px;font-size:14px;background:#fff}.score-input,.set-score-input{height:38px;min-height:38px;line-height:38px;padding-top:0;padding-bottom:0;overflow:visible}#tournament-modal{display:none;position:fixed;z-index:9999;left:0;top:0;width:100vw;height:100vh;background:#0006;justify-content:center;align-items:center}#tournament-modal.active{display:flex}#tournament-modal .modal-content{background:#fff;padding:2em 2em 1.5em;border-radius:8px;min-width:300px;box-shadow:0 2px 16px #0000002e;text-align:center}#tournament-modal label{font-size:1.1em;margin-bottom:.5em;display:block}#tournament-modal input[type=text]{width:90%;padding:.5em;margin-bottom:1em;font-size:1em}#tournament-modal .modal-btns{display:flex;justify-content:space-between;gap:1em}#tournament-modal button{flex:1;padding:.5em;font-size:1em;border:none;border-radius:4px;cursor:pointer}#tournament-modal .cancel-btn{background:#ccc;color:#222}#tournament-modal .ok-btn{background:#2196f3;color:#fff}
